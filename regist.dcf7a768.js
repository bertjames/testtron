webpackJsonp([0],{6:function(e,a,t){"use strict";function i(){(0,r.tronAjax)({url:"/api/v1/account/get_jsaddr",success:function e(a){0===a.code&&$("head").append('<script type="text/javascript" src="'+a.data.url+'"><\/script>')}})}t(7);var r=t(0),s=$(".emailerror"),n=$(".pwderror"),d=$(".nickerror"),c=$(".cpwderror"),o=$(".signerror"),l=$(".email"),u=$(".nick"),v=$(".password"),p=$(".cpassword"),m=$(".dialog"),f=document.getElementById("TCaptcha"),h=$("button");i(),u.change(function(e){(0,r.verifyName)($(this).val())?d.addClass("hidden"):d.removeClass("hidden")}),l.change(function(e){(0,r.verifyEmail)(l.val())?s.addClass("hidden"):s.removeClass("hidden")}),v.change(function(e){(0,r.verifyPwd)(v.val())?n.addClass("hidden"):n.removeClass("hidden")}),p.change(function(e){$(this).val()==v.val()?c.addClass("hidden"):c.removeClass("hidden")}),$("#regist").submit(function(e){e.preventDefault(),[u,l,v,p].forEach(function(e){return e.trigger("change")}),(0,r.verifyName)(u.val())&&(0,r.verifyEmail)(l.val())&&(0,r.verifyPwd)(v.val())&&v.val()==p.val()&&(f.classList.remove("hide"),capInit(f,{callback:function e(a){0==a.ret?(f.classList.add("hide"),h.attr("disabled","disabled").text("注册中..."),(0,r.tronAjax)({url:"/api/v1/account/signup_email",type:"POST",data:{name:$.trim(u.val()),email:l.val(),password:calcMD5(v.val()),ticket:a.ticket},success:function e(a){h.removeAttr("disabled").text("注册"),a.code?(capDestroy(),i(),o.text(a.msg).removeClass("hide"),setTimeout(function(){o.addClass("hide")},3e3)):(m.removeClass("hide"),setTimeout(function(){location.replace((0,r.getUrlParam)("redirect")||"/")},3e3),localStorage.setItem("tron_userinfo",JSON.stringify(a.data)))}})):(capDestroy(),i(),f.classList.add("hide"))},showHeader:!0,type:"popup",firstvrytype:2}))}),$(".dialog span").click(function(e){location.replace((0,r.getUrlParam)("redirect")||"/")})},7:function(e,a){}},[6]);