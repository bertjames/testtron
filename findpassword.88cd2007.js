webpackJsonp([4],{10:function(e,a,s){"use strict";s(11);var d=s(0),r=(0,d.getUrlParam)("code"),i=(0,d.getUrlParam)("uid"),o=$("#findpwd"),n=$("#newpwd"),t=$(".email"),l=$(".emailerror"),c=$(".submiterror"),u=$(".dialog"),v=$(".password"),h=$(".cpassword"),m=$(".pwderror"),f=$(".cpwderror"),p=$(".rpwderror"),g=$(".success"),w=$(".fail");localStorage.removeItem("tron_userinfo"),r&&i?(n.addClass("newpwdshow"),v.change(function(){(0,d.verifyPwd)(v.val())?m.addClass("hidden"):m.removeClass("hidden")}),h.change(function(){h.val()!=v.val()?f.removeClass("hidden"):f.addClass("hidden")}),n.submit(function(e){e.preventDefault(),v.trigger("change"),h.trigger("change"),""!=v.val()&&(0,d.verifyPwd)(v.val())&&h.val()==v.val()&&(0,d.tronAjax)({url:"/api/v1/account/reset_password",type:"POST",data:{uid:i,code:r,password:calcMD5(v.val())},success:function e(a){a.code?(p.text(a.msg).removeClass("hide"),setTimeout(function(){20003===a.code?location.replace("/findpassword.html"):p.addClass("hide")},3e3)):(localStorage.setItem("tron_userinfo",JSON.stringify(a.data)),location.replace("/"))}})})):(o.submit(function(e){e.preventDefault(),t.trigger("change"),(0,d.verifyEmail)(t.val())&&(0,d.tronAjax)({url:"/api/v1/account/send_reset_password",type:"POST",data:{email:t.val()},success:function e(a){u.removeClass("hide"),a.code?(g.addClass("hide"),w.removeClass("hide").children("p").text(a.msg),setTimeout(function(){u.addClass("hide")},3e3)):(g.removeClass("hide"),w.addClass("hide"))}})}),t.change(function(e){(0,d.verifyEmail)($(this).val())?l.addClass("hidden"):l.removeClass("hidden")})),$(".dialog span").click(function(e){u.addClass("hide")})},11:function(e,a){}},[10]);